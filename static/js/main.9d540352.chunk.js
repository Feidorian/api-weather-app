(this.webpackJsonpapiweatherapp=this.webpackJsonpapiweatherapp||[]).push([[0],{113:function(e,t,c){},122:function(e,t,c){"use strict";c.r(t);var s=c(16),a=c(0),n=c.n(a),r=c(33),i=c.n(r),l=(c(113),c(12)),o=c(15),d=c(176),j=c(173),u=c(184),m=c(186),p=c(187),x=c(188),b=c(185),f=c(85),h=c.n(f),O=c(86),g=c.n(O),w=c.p+"static/media/brandImg.7eb91340.svg",y=c(172),v=c(36),N=c.n(v),k=c.p+"static/media/sunny.213f9a41.svg",S=c(52),F=c(1),T=function(e){return N.a.unix(e).format("dddd")},C=function(e){var t=parseInt(N.a.unix(e).format("HH")),c=N.a.unix(e).format("mm");return t=t>12?"".concat(t-12,":").concat(c,"pm"):"".concat(t,":").concat(c,"am"),"".concat(N.a.unix(e).format("MMM, Do,")," ").concat(t)},U=function(e){var t=parseInt(N.a.unix(e).format("HH")),c=N.a.unix(e).format("mm");return t=t>12?"".concat(t-12,":").concat(c,"pm"):"".concat(t,":").concat(c,"am")},z=function(e){return{date:(t=e.dt,N.a.unix(t).format("MMM, Do, YYYY")),day:T(e.dt),description:e.weather[0].description,icon:k,weatherStatus:e.weather[0].main,humidity:e.humidity,windSpeed:e.wind_speed,pressure:e.pressure,dayTemp:e.temp.day,nightTemp:e.temp.night,mornTemp:e.temp.morn,eveTemp:e.temp.eve,minTemp:e.temp.min,maxTemp:e.temp.max};var t},L=function(e,t,c){fetch("https://muterehm3f.execute-api.us-east-2.amazonaws.com/official/apiweatherapp",{method:"POST",body:JSON.stringify({target:"openWeather",lon:c.lon,lat:c.lat})}).then((function(e){return e.json()})).then((function(e){if(c.current&&c.daily)return c.current=function(e){return{day:T(e.current.dt),date:C(e.current.dt),timezone:e.timezone,sunrise:U(e.current.sunrise),sunset:U(e.current.sunset),temp:e.current.temp,icon:k,weatherStatus:e.current.weather[0].main,description:e.current.weather[0].description,humidity:e.current.humidity,pressure:e.current.pressure,windSpeed:e.current.wind_speed,visibility:e.current.visibility}}(e),c.daily=e.daily.map(z),c;throw new Error("Failed to get forecast for ".concat(c.city,"."))})).then((function(c){return e({type:t,data:c}),c})).then(console.log).catch((function(e){S.Report.failure(e.message,"API daily request limit exceeded!!","Ok")}))},M=function(e){var t=e.collapseButton,c=e.dispatcher,n=e.size,r=e.only,i=Object(a.useState)(null),o=Object(l.a)(i,2),p=o[0],x=o[1],b=Object(a.useState)(""),f=Object(l.a)(b,2),O=f[0],g=f[1],w=Object(a.useState)([]),v=Object(l.a)(w,2),N=v[0],k=v[1],T=Object(a.useRef)(null);Object(a.useEffect)((function(){if(O&&p!==O){var e=O;clearTimeout(T.current),T.current=setTimeout((function(){var t={method:"POST",body:JSON.stringify({target:"googlePlaces",query:e})};fetch("https://muterehm3f.execute-api.us-east-2.amazonaws.com/official/apiweatherapp",t).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{address:e.formatted_address,location:e.geometry.location,name:e.name}})).slice(0,10)})).then((function(e){return console.log(e),e})).then((function(e){return k((function(t){return e||t}))})).catch(console.log)}),400)}}),[O,p]);return Object(F.jsx)(d.a,{mediaQuery:!0,only:r,children:Object(F.jsxs)("div",{class:"space-x-2 ".concat(t?"hidden":"contents"),children:[Object(F.jsx)(y.a,{id:"search",className:n,getOptionLabel:function(e){return e.address},options:N,filterOptions:function(e){return e},value:p,onChange:function(e,t){x(t),g(t)},onInputChange:function(e,t){g(t)},renderInput:function(e){return Object(F.jsx)(j.a,Object(s.a)(Object(s.a)({},e),{},{InputProps:Object(s.a)(Object(s.a)({},e.InputProps),{},{size:"small",placeholder:"Enter the Name of a Location",margin:"dense",startAdornment:Object(F.jsx)(u.a,{position:"start",children:Object(F.jsx)(h.a,{})})}),class:"w-full bg-white text-black rounded-xl "}))}}),Object(F.jsxs)("div",{className:"flex space-x-2 mb-2 sm:mb-0",children:[Object(F.jsx)(m.a,{size:"small",variant:"outlined",className:"h-10 lg:self-center",onClick:function(){if(p&&O&&p===O){var e={city:p.name,lat:p.location.lat,lon:p.location.lng};L(c,"addForecast",e),x(null)}else S.Report.failure("Missing Search Query","Queries (input) must be selected from the dropdown menu. If no dropdown option exists, then no forecast exists for the query.","Ok",(function(){}),{svgSize:"100px",messageFontSize:"14px",messageColor:"#"})},children:"Get Forecast"}),Object(F.jsx)(m.a,{onClick:function(){return c({type:"openMenu"})},size:"small",variant:"outlined",color:"error",className:"h-10 lg:self-center",children:"Options"})]})]})})};var I=function(e){var t=e.dispatcher,c=(e.forecast,function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1];return[c,function(){return s(!c)}]}()),s=Object(l.a)(c,2),n=s[0],r=s[1];return Object(F.jsxs)(p.a,{class:"bg-black text-white p-2 py-3  w-full",children:[Object(F.jsxs)("div",{id:"nav-row",class:"flex",children:[Object(F.jsxs)("div",{class:"flex space-x-1 items-center",children:[Object(F.jsx)(x.a,{fontSize:"large",children:Object(F.jsx)("img",{alt:"brand visual",src:w})}),Object(F.jsx)(b.a,{variant:"h6",children:"API Weather App"})]}),Object(F.jsx)("div",{class:"flex justify-center items-center flex-grow",children:Object(F.jsx)(M,{dispatcher:t,size:"w-5/12 mx-2",only:["xs","sm"]})}),Object(F.jsx)(d.a,{mdUp:!0,children:Object(F.jsx)("div",{class:"ml-auto self-center",component:"button",onClick:r,children:Object(F.jsx)(g.a,{color:"white",fontSize:"large"})})})]}),Object(F.jsx)("div",{class:"flex justify-center items-center flex-grow",children:Object(F.jsx)(M,{dispatcher:t,collapseButton:n,size:"w-5/12",only:["xs","lg","md","xl"]})}),Object(F.jsx)("div",{class:"flex flex-col-reverse justify-center items-center flex-grow",children:Object(F.jsx)(M,{dispatcher:t,collapseButton:n,size:"w-11/12",only:["sm","lg","md","xl"]})})]})},D=c.p+"static/media/wallpaper10.77df1d32.jpg",P=c(90),W=c(178),E=c(177),H=c(182),B=c(181),J=c(87),A=c.n(J),Y=c.p+"static/media/humidity.5da6ae3c.svg",q=c.p+"static/media/pressure.2ad36da1.svg",R=function(e){var t=e.data,c=e.index,s=e.dispatcher,n=e.forecast,r=Object(a.useState)(null),i=Object(l.a)(r,2),o=i[0],d=i[1];return Object(F.jsxs)("div",{class:" bg-black text-white flex rounded-lg p-3 mb-3 border-2 flex flex-col",style:{minWidth:"21rem"},children:[Object(F.jsxs)("div",{id:"header",class:"flex flex-grow justify-between",children:[Object(F.jsxs)("div",{id:"location-date",class:"",children:[Object(F.jsx)(b.a,{variant:"p",className:"font-medium",sx:{color:"error.main"},children:t.current.date}),Object(F.jsx)(b.a,{variant:"p",className:"block  font-medium text-lg",children:t.city})]}),Object(F.jsx)("div",{id:"temp",class:" text-center self-center",children:Object(F.jsxs)(b.a,{variant:"p",className:"block text-4xl font-medium",sx:{color:"warning.light"},children:["C"===n.tempUnit?he(t.current.temp):Oe(t.current.temp),"\xb0",n.tempUnit," "]})}),Object(F.jsxs)("div",{id:"delete-button",className:"w-1/12",children:[Object(F.jsx)(H.a,{id:"long-button",onClick:function(e){return d(e.currentTarget)},children:Object(F.jsx)(A.a,{className:"text-white hover:text-green-600"})}),Object(F.jsxs)(P.a,{anchorEl:o,open:Boolean(o),onClose:function(){return d(null)},children:[Object(F.jsx)(W.a,{onClick:function(){s({type:"setSelectedForecast",data:c}),d(null)},children:"Select Location"}),Object(F.jsx)(W.a,{onClick:function(){return function(e,t,c){var s={city:c.name,lat:c.lat,lon:c.lon};L(e,"updateForecast",s)}(s,0,t)},children:"Update Location"}),Object(F.jsx)(W.a,{onClick:function(){return function(e,t){d(null),S.Confirm.show("\u274c Confirm Deletion","Are you Sure you want to delete this location?","Yes","Cancel",(function(){return e({type:"deleteForecast",data:t})}),(function(){}),{titleColor:"#e66146",fontFamily:"quicksand",useGoogleFont:!1})}(s,c)},children:"Delete location"})]})]})]}),Object(F.jsxs)("div",{id:"content",children:[Object(F.jsxs)("div",{class:"flex items-center mb-3 px-3 space-x-5",children:[Object(F.jsxs)("div",{id:"weather-status",class:"w-5/12 bg-red-90 flex flex-col items-center justify-center",children:[Object(F.jsx)("img",{width:"80",className:"block",src:t.current.icon,alt:"weather",style:{marginTop:"-20px"}}),Object(F.jsx)(b.a,{variant:"p",className:"text-lg text-center",sx:{marginTop:"-15px"},children:t.current.weatherStatus})]}),Object(F.jsxs)("div",{className:" flex flex-col mx-auto  w-full",children:[Object(F.jsxs)("div",{className:"self-center text-center font-medium",children:[Object(F.jsx)("span",{className:"text-blue-500",children:"TimeZone"})," ",Object(F.jsx)("br",{}),t.current.timezone]}),Object(F.jsxs)("div",{className:"flex justify-around",children:[Object(F.jsxs)("div",{className:"text-center",children:[Object(F.jsx)("span",{className:"text-blue-500 font-medium",children:"Sunrise"})," ",Object(F.jsx)("br",{}),t.current.sunrise]}),Object(F.jsxs)("div",{className:"text-center",children:[Object(F.jsx)("span",{className:"text-blue-500 font-medium",children:"Sunset"})," ",Object(F.jsx)("br",{})," ",t.current.sunset]})]})]})]}),Object(F.jsxs)("div",{className:"flex flex-wrap space-x-2 justify-center p-1",style:{width:"20rem"},children:[Object(F.jsxs)(b.a,{class:"block flex items-center",children:[Object(F.jsx)("img",{width:"23",className:"inline-block mr-1",alt:"",src:q})," Pressure : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.current.pressure," hPa"]})]}),Object(F.jsxs)(b.a,{class:"block",children:[Object(F.jsx)("img",{width:"25",className:"inline-block",alt:"",src:Y}),"Humidity : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.current.humidity,"%"]})]}),Object(F.jsxs)(b.a,{class:"block",children:[" ",Object(F.jsx)("i",{class:"fas fa-wind"})," WindSpeed : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.current.windSpeed," m/s"]})]}),Object(F.jsxs)(b.a,{class:"block",children:[Object(F.jsx)("i",{class:"fas fa-smog"})," Visibility  : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.current.visibility," m"]})]})]})]})]},c)};var Q=function(e){var t=e.degUnit,c=e.forecast,s=e.dispatcher;return Object(F.jsxs)("div",{id:"dashboard",class:"py-4 px-2 bg-red-90 flex flex-col",children:[Object(F.jsx)(E.a,{severity:"info",className:"mx-auto flex justify-center",children:Object(F.jsx)(b.a,{class:"text-blue-900 font-medium",children:"Cards are horizontally scrollable (especially on smaller Screen)."})}),Object(F.jsx)(b.a,{class:"self-start mt-3 block  text-2xl border-2  border-yellow-200\r font-medium  bg-black p-2 rounded-lg text-blue-400",children:"Dashboard"}),Object(F.jsx)(B.a,{class:"flex justify-start overflow-x-auto space-x-3 mt-4",children:c.forecastList.map((function(e,a){return Object(F.jsx)(R,{data:e,degUnit:t,dispatcher:s,forecast:c,index:a})}))})]})},_=function(e){var t=e.data,c=e.forecast;return Object(F.jsxs)("div",{class:"bg-green-800 text-white flex rounded-lg p-3 border-2 flex flex-col mb-4",style:{minWidth:"21rem"},children:[Object(F.jsxs)("div",{id:"header",class:"flex flex-grow justify-between",children:[Object(F.jsxs)("div",{id:"location-date",class:"w-7/12",children:[Object(F.jsx)(b.a,{variant:"p",className:"font-medium",sx:{color:"error.light"},children:t.date}),Object(F.jsx)(b.a,{variant:"p",className:"block text-3xl font-medium",children:t.day})]}),Object(F.jsx)("div",{id:"temp",class:"w-5/12 text-center self-center",children:Object(F.jsxs)(b.a,{variant:"p",className:"block text-4xl font-medium",sx:{color:"warning.light"},children:["C"===c.tempUnit?he(t.dayTemp):Oe(t.dayTemp),"\xb0",c.tempUnit]})}),Object(F.jsx)("div",{id:"delete-button",className:"w-1/12"})]}),Object(F.jsxs)("div",{id:"content",children:[Object(F.jsxs)("div",{class:"flex mb-3 mt-2",children:[Object(F.jsxs)("div",{id:"weather-status",class:"w-5/12 bg-red-90 flex flex-col items-center justify-center",children:[Object(F.jsx)("img",{width:"80",className:"block",src:t.icon,alt:"weather",style:{marginTop:"-20px"}}),Object(F.jsx)(b.a,{variant:"p",className:"text-lg text-center",sx:{marginTop:"-15px"},children:t.description})]}),Object(F.jsxs)("div",{className:"w-7/12 flex flex-col space-y-2 mt-1 font-medium",children:[Object(F.jsxs)("div",{className:"flex justify-around",children:[Object(F.jsxs)("div",{children:["Min: ","C"===c.tempUnit?he(t.minTemp):Oe(t.minTemp),"\xb0",c.tempUnit]}),Object(F.jsxs)("div",{children:["Max: ","C"===c.tempUnit?he(t.maxTemp):Oe(t.maxTemp),"\xb0",c.tempUnit]})]}),Object(F.jsxs)("div",{className:"flex justify-around",children:[Object(F.jsxs)("div",{children:["Day: ","C"===c.tempUnit?he(t.dayTemp):Oe(t.dayTemp),"\xb0",c.tempUnit]}),Object(F.jsxs)("div",{children:["Night ","C"===c.tempUnit?he(t.nightTemp):Oe(t.nightTemp),"\xb0",c.tempUnit]})]}),Object(F.jsxs)("div",{className:"flex justify-around",children:[Object(F.jsxs)("div",{children:["Morn: ","C"===c.tempUnit?he(t.mornTemp):Oe(t.mornTemp),"\xb0",c.tempUnit]}),Object(F.jsxs)("div",{children:["Eve: ","C"===c.tempUnit?he(t.eveTemp):Oe(t.eveTemp),"\xb0",c.tempUnit]})]})]})]}),Object(F.jsxs)("div",{className:"flex flex-wrap space-x-2 justify-center items-center",style:{width:"20rem"},children:[Object(F.jsxs)(b.a,{class:"block flex items-center",children:[Object(F.jsx)("img",{width:"23",className:"inline-block mr-1",alt:"",src:q})," Pressure : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.pressure," hPa"]})]}),Object(F.jsxs)(b.a,{class:"block",children:[Object(F.jsx)("img",{width:"25",className:"inline-block",alt:"",src:Y}),"Humidity : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.humidity,"%"]})]}),Object(F.jsxs)(b.a,{class:"block",children:[" ",Object(F.jsx)("i",{class:"fas fa-wind"})," WindSpeed : ",Object(F.jsxs)("span",{style:{color:"yellow"},children:[t.windSpeed," m/s"]})]})]})]})]})};var G=function(e){var t=e.forecast;return Object(F.jsxs)("div",{className:"w-screen e px-2 text-white flex flex-col",children:[Object(F.jsxs)(b.a,{variant:"p",className:"self-start text-2xl border-2  border-yellow-200\r font-medium  bg-black p-2 rounded-lg text-blue-400  ",children:["8-Day Forecast For ",t.selectedForecast.city]}),Object(F.jsx)("div",{className:"flex justify-start overflow-x-auto space-x-3 mt-4 mb-28 lg:mb-0",children:t.selectedForecast.daily.map((function(e,c){return Object(F.jsx)(_,{data:e,forecast:t},c)}))})]})},V=c(191),Z=c(179),K=c(192),X=c(193),$=c(189),ee=c(190),te=c(88),ce=c.n(te),se=c.p+"static/media/wallpaper.dac49862.jpg",ae=c.p+"static/media/wallpaper2.a6e0b2eb.jpg",ne=c.p+"static/media/wallpaper3.6c954cbe.jpg",re=c.p+"static/media/wallpaper4.fb7fb6d1.jpg",ie=c.p+"static/media/wallpaper5.44dc4f33.jpg",le=c.p+"static/media/wallpaper6.3f11ff0a.jpg",oe=c.p+"static/media/wallpaper7.17617cbc.jpg",de=c.p+"static/media/wallpaper8.cbb78813.jpg",je=c.p+"static/media/wallpaper9.002c2ae5.jpg",ue=c.p+"static/media/wallpaper11.f87bb7ee.jpg",me=c.p+"static/media/wallpaper12.062de8f0.jpg",pe=c(89),xe=c.n(pe),be=[se,ae,ne,re,ie,le,oe,de,je,D,ue,me];var fe=function(e){var t=e.forecast,c=e.dispatcher,s=Object(a.useState)(!0),n=Object(l.a)(s,2),r=n[0],i=n[1];return Object(F.jsx)($.a,{onClose:function(){return c({type:"closeMenu"})},open:t.openMenu,fullWidth:!0,children:Object(F.jsxs)("div",{class:"p-2",children:[Object(F.jsxs)(ee.a,{class:"w-100 flex",children:[Object(F.jsx)(b.a,{class:"font-medium text-xl ml-4 w-full",children:"Options"}),Object(F.jsx)(H.a,{class:"ml-auto",onClick:function(){return c({type:"closeMenu"})},children:Object(F.jsx)(ce.a,{})})]}),Object(F.jsxs)(V.a,{class:"p-2",children:[Object(F.jsxs)("div",{class:"flex items-center justify-center",children:[Object(F.jsx)(b.a,{class:"font-medium text-2xl",children:"\xb0C"}),Object(F.jsx)(Z.a,{checked:r,onChange:function(){c(r?{type:"setTempDegC"}:{type:"setTempDegF"}),i(!r)}}),Object(F.jsx)(b.a,{class:"font-medium text-2xl",children:"\xb0F"})]}),Object(F.jsx)(E.a,{component:"div",className:"mx-auto mb-2 w-52",children:"Choose a Wallpaper"}),Object(F.jsx)(K.a,{cols:3,rowHeight:156,children:be.map((function(e,s){return Object(F.jsx)(X.a,{onClick:function(){return c({type:"setWallpaper",data:e})},class:"rounded-lg flex items-center justify-center cursor-pointer",style:{backgroundImage:"url(".concat(e,")"),backgroundSize:"cover",height:"8rem"},children:Object(F.jsx)("div",{className:"".concat(t.wallpaper===e?"inline-block":"invisible"),children:Object(F.jsx)(xe.a,{sx:{color:"error.main",fontSize:"4rem"}})})},s)}))})]})]})})},he=function(e){return(5/9*(e-32)).toFixed(0)},Oe=function(e){return(1.8*e+32).toFixed(0)},ge=function(e,t){switch(t.type){case"setForecast":return t.data;case"addForecast":return Object(s.a)(Object(s.a)({},e),{},{forecastList:[t.data].concat(Object(o.a)(e.forecastList)),selectedForecast:t.data});case"updateForecast":return Object(s.a)(Object(s.a)({},e),{},{forecastList:e.forecastList.map((function(e,c){return c===t.index?t.data:e})),selectedForecast:e.selectedForecast===e.forecastList[t.index]?t.data:e.selectedForecast});case"deleteForecast":return Object(s.a)(Object(s.a)({},e),{},{forecastList:e.forecastList.filter((function(e,c){return c!==t.data})),selectedForecast:e.selectedForecast===e.forecastList[t.data]?1===e.forecastList.length?null:e.forecastList[0===t.data?e.forecastList.length-1:t.data-1]:e.selectedForecast});case"setSelectedForecast":return Object(s.a)(Object(s.a)({},e),{},{selectedForecast:e.forecastList[t.data]||null});case"setTempDeg":return Object(s.a)({},e);case"setWallpaper":return Object(s.a)(Object(s.a)({},e),{},{wallpaper:t.data});case"openMenu":return Object(s.a)(Object(s.a)({},e),{},{openMenu:!0});case"closeMenu":return Object(s.a)(Object(s.a)({},e),{},{openMenu:!1});case"setTempDegC":return Object(s.a)(Object(s.a)({},e),{},{tempUnit:"C"});case"setTempDegF":return Object(s.a)(Object(s.a)({},e),{},{tempUnit:"F"});default:return Object(s.a)({},e)}},we={forecastList:[],selectedForecast:null,wallpaper:D,tempUnit:"F",openMenu:!1};var ye=function(){var e=Object(a.useReducer)(ge,we),t=Object(l.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){localStorage.getItem("forecast")?s({type:"setForecast",data:JSON.parse(localStorage.getItem("forecast"))}):s({type:"setSelectedForecast",data:0})}),[s]),Object(a.useEffect)((function(){localStorage.setItem("forecast",JSON.stringify(c))}),[c]),Object(F.jsxs)("div",{class:"h-screen break-words flex flex-col",style:{overflow:"hidden",backgroundImage:"url(".concat(c.wallpaper,")"),backgroundSize:"cover"},children:[Object(F.jsx)(I,{dispatcher:s,forecast:c}),Object(F.jsxs)("div",{class:"overflow-x-auto",children:[Object(F.jsx)(Q,{forecast:c,dispatcher:s}),c.selectedForecast&&Object(F.jsx)(G,{forecast:c,dispatcher:s}),Object(F.jsx)(fe,{forecast:c,dispatcher:s})]})]})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,194)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))};window.console=Object(s.a)(Object(s.a)({},window.console),{},{error:function(){},warn:function(){}}),i.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(ye,{})}),document.getElementById("root")),ve()}},[[122,1,2]]]);
//# sourceMappingURL=main.9d540352.chunk.js.map